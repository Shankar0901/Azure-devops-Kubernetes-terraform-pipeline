trigger:
- main

pool:
  vmImage: ubuntu-latest

stages:

  - stage: Build
    jobs:
    - job: Firstjob
      steps: 
      - bash: echo $(Pipelinelevelvariable) Deploy job

    - job: secondjob
      steps:
      - bash: echo build secondjob
      
    
  - stage: DevDeploy
    variables:
     environment: Dev
    dependsOn: Build
    jobs:
    - job: Firstjob
      steps:
      - bash: echo $(environment) Firstjob
    - job: secondjob
      steps:
      - bash: echo $(environment) secondjob

  - stage: QADeploy
    variables:
     environment: QA
    dependsOn: Build
    jobs:
    - job: Firstjob
      steps:
      - bash: echo   $(environment) Firstjob
    - job: secondjob
      steps:
      - bash: echo  $(environment) secondjob
      
  - stage: ProdDeploy
    variables:
     environment: Prod
    dependsOn:
     - Build
     - DevDeploy
     - QADeploy
    jobs:
    - job: Firstjob
      steps:
      - bash: echo $(environment) Firstjob
    - job: secondjob
      steps:
      - bash: echo $(environment) secondjob
  



